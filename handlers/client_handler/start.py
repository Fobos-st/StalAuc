from aiogram import types, Dispatcher
from aiogram.types import InlineKeyboardButton, InlineKeyboardMarkup

from create_bot import bot
from database.dbsql import reg
from ..keyboard import main_kb


# @dp.message_handler(commands=['start'])
async def cmd_start(message: types.Message):
    await bot.send_sticker(message.from_user.id,
                           r"CAACAgIAAxkBAAEKk1FlNKx8auj72PEN0OqPy1pH7uGKCAACQAEAAladvQps6VtALEnWJTAE")
    await message.answer("""–ë–æ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –∏ –Ω–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –æ–Ω –≤ MVP —Å–æ—Å—Ç–æ—è–Ω–∏–µ
–ü—Ä–æ—â–µ –≥–æ–≤–æ—Ä—è –≤ –±–µ—Ç–∞-—Ç–µ—Å—Ç–µ""")
    ikb = InlineKeyboardMarkup(row_width=1)
    ikb.add(InlineKeyboardButton('–†—É—Å—Å–∫–∏–π', callback_data='Russian'))
    await message.answer("–ü—Ä–∏–≤–µ—Ç! –í—ã–±–µ—Ä–∏ —è–∑—ã–∫, —á—Ç–æ–±—ã –æ–∫—É–Ω—É—Ç—å—Å—è –≤ –•—ç–ª–ª–æ—É–∏–Ω—Å–∫–∏–π –¥—É—Ö —Ç–æ—Ä–≥–æ–≤–ª–∏!", reply_markup=ikb)


# @dp.callback_query_handler(text=['Russian'])
async def cmd_server_selection(callback_query: types.CallbackQuery):
    # language depending on the choice
    reg(callback_query.from_user.id)
    ikb = InlineKeyboardMarkup(row_width=1, resize_keyboard=True)
    ikb.add(InlineKeyboardButton('RU', callback_data='RU'))
    await bot.send_message(callback_query.from_user.id, "–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –∏–≥—Ä–æ–≤–æ–π —Å–µ—Ä–≤–µ—Ä –Ω–∞ —ç—Ç–æ—Ç —Å—Ç—Ä–∞—à–Ω—ã–π –•—ç–ª–ª–æ—É–∏–ΩüíÄ:", reply_markup=ikb)


# @dp.callback_query_handler(text=['RU'])
async def cmd_main(callback_query: types.CallbackQuery):
    await bot.send_message(callback_query.from_user.id, """
üéÉ–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –º–∏—Ä –•—ç–ª–ª–æ—É–∏–Ω–∞ –∏–∑ —Ç–µ–º–Ω—ã—Ö –ø—Ä–æ—Å—Ç–æ—Ä–æ–≤ –ß–µ—Ä–Ω–æ–±—ã–ª—å—Å–∫–æ–π –ó–æ–Ω—ã!üßü‚Äç‚ôÇÔ∏è

–í —ç—Ç–æ–º –º–∞–≥–∏—á–µ—Å–∫–æ–º –±–æ—Ç–µ —Å–∫—Ä—ã—Ç—ã 3 –∑–∞–≥–∞–¥–æ—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥—É—Ç –≤–∞–º –≤ –≤–∞—à–µ–º –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–∏:

üïµÔ∏è‚Äç‚ôÇÔ∏è1)–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–Ω—ã - –¥–æ–≤–µ—Ä—å—Ç–µ—Å—å —Å–≤–æ–∏–º —Å—É–¥—å–±–æ–Ω–æ—Å–Ω—ã–º –∏–Ω—Å—Ç–∏–Ω–∫—Ç–∞–º,
–∏ —ç—Ç–æ—Ç –≤–æ–ª—à–µ–±–Ω—ã–π –±–æ—Ç –≤—ã–≤–µ–¥–µ—Ç –ø–µ—Ä–µ–¥ –≤–∞–º–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–∏—Ö –ª–æ—Ç–∞—Ö –Ω–∞ –∏—Å–∫–æ–º—ã–π –ø—Ä–µ–¥–º–µ—Ç.
–û—Å—Ç–µ—Ä–µ–≥–∞–π—Ç–µ—Å—å, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –∫—Ä–∞–π–Ω–µ "—Å—ã—Ä–∞—è", –Ω–æ –Ω–µ –æ—Ç–∫–∞–∂–∏—Ç–µ —Å–µ–±–µ –≤ —ç—Ç–æ–º –æ—á–∞—Ä–æ–≤–∞–Ω–∏–∏.

üîÆ2)–û–∂–∏–¥–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞ ‚Äî —ç—Ç–æ —É–∂–µ –Ω–∞—Å—Ç–æ—è—â–∏–π –º–∞–≥–∏—á–µ—Å–∫–∏–π —Ä–∏—Ç—É–∞–ª! 
–ü–æ–∑–≤–æ–ª—å—Ç–µ —ç—Ç–æ–º—É –±–æ—Ç—É –æ—â—É—Ç–∏—Ç—å –≤–∞—à–∏ –º–µ—á—Ç—ã –∏ –¥–æ–±–∞–≤–∏—Ç—å –∂–µ–ª–∞–µ–º—ã–π –ø—Ä–µ–¥–º–µ—Ç –≤ –æ–∂–∏–¥–∞–Ω–∏–µ.
–í–µ–¥—å —Ç–æ–ª—å–∫–æ –≤ —Ç–∞–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –•—ç–ª–ª–æ—É–∏–Ω—Å–∫–∏–π –≤–µ—á–µ—Äüïõ, –∫–æ–≥–¥–∞ –∑–≤–µ–∑–¥—ã –≤—ã—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤ –æ—Å–æ–±–µ–Ω–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫,
–±–æ—Ç —É–≤–µ–¥–æ–º–∏—Ç –≤–∞—Å –æ –ø–æ—è–≤–ª–µ–Ω–∏–∏ —ç—Ç–æ–≥–æ –ø—Ä–µ–¥–º–µ—Ç–∞ –Ω–∞ –∞—É–∫—Ü–∏–æ–Ω–µ. 

üïØÔ∏è3)–ò—Å—Ç–æ—Ä–∏—è —Ü–µ–Ω - –≤–æ–ª—à–µ–±–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è, —Å–æ–∑–¥–∞—é—â–∞—è –¥–ª—è –≤–∞—Å –æ—Å–æ–±–µ–Ω–Ω—ã–π –≥—Ä–∏–º—É–∞—Ä. –≠—Ç–æ—Ç –±–æ—Ç —Å–æ—Å—Ç–∞–≤–∏—Ç —Å–≤–µ—á–µ–≤–æ–π –≥—Ä–∞—Ñ–∏–∫ —Å –≤–∞—à–∏–º–∏
–æ—Å–æ–±—ã–º–∏ —Ç–∞–π–º–∏–Ω–≥–∞–º–∏ –∏ —Å–æ–∑–¥–∞—Å—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ—Ç—ã–∫–∞—Ç—å –∫–∞–∂–¥—É—é —Å–≤–µ—á—É –∏ –µ—ë —Ç–µ–Ω—å. Excel —Ñ–∞–π–ª —Å—Ç–∞–Ω–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π –∏–∑ –∑–∞–±—ã—Ç–æ–π —Å–∫–∞–∑–∫–∏,
–≥–¥–µ –≤—ã —Å–∞–º–∏ –±—É–¥–∏—Ç–µ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∏ –¥–µ–ª–∞—Ç—å —Å–≤–æ–∏ —Ç–∞–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è.

–í —ç—Ç–æ–º —Å—Ç—Ä–∞–Ω–Ω–æ–º –≤–æ–ª—à–µ–±—Å—Ç–≤–µ –•—ç–ª–ª–æ—É–∏–Ω–∞, –æ—Å—Ç–∞–≤–∞–π—Ç–µ—Å—å –±–¥–∏—Ç–µ–ª—å–Ω—ã–º–∏ –∏ –≥–æ—Ç–æ–≤—å—Ç–µ —Å–≤–æ–∏ –Ω–µ—Ä–≤—ã,
–≤–µ–¥—å –ß–µ—Ä–Ω–æ–±—ã–ª—å—Å–∫–∞—è –ó–æ–Ω–∞ —Å–∫—Ä—ã–≤–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –æ–ø–∞—Å–Ω–æ—Å—Ç–µ–π –∏ –∑–∞–≥–∞–¥–æ—á–Ω—ã—Ö —Å—É—â–µ—Å—Ç–≤. 
–ñ–µ–ª–∞–µ–º –≤–∞–º –Ω–µ–∑–∞–±—ã–≤–∞–µ–º—ã—Ö –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–π –∏ —Å—Ç–∞–ª–∫–µ—Ä—Å–∫–æ–π —É–¥–∞—á–∏ –≤ —ç—Ç–æ–º –º–∏—Å—Ç–∏—á–µ—Å–∫–æ–º –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–∏!
""", reply_markup=main_kb)


def register_client_handlers_start(dp: Dispatcher):
    dp.register_message_handler(cmd_start, commands=['start'])
    dp.register_callback_query_handler(cmd_server_selection, text=['Russian'])
    dp.register_callback_query_handler(cmd_main, text=['RU'])
